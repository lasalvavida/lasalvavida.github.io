!function(t){function e(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){"use strict";function n(t,e){t.beginPath(),t.rect(0,0,e.width,e.height),t.fillStyle="gray",t.fill()}function o(t,e,a,o){return n(t,e),t.lineWidth=10,t.strokeStyle="#FFFFFF",t.beginPath(),t.arc(Math.floor(e.width/2),Math.floor(e.height/2),Math.min(e.width/5,e.height/5),a,a+Math.PI/3),t.stroke(),a+=Math.PI/16,a>2*Math.PI&&(a-=2*Math.PI),window.requestAnimationFrame(o),a}function r(){E&&(R=o(M,y,R,r))}function i(){B&&(z=o(A,D,z,i))}function s(){E=!0,r();var t,e,a={chunk:!0,iterations:512,duration:10};t=Date.now();var n=parseInt(f("#post-three-size-select").val()),o=x.average(n,n),s=Math.floor(n/2);u.convolveAsync(o,a,g).then(function(a){E=!1,a.writeRawData(d.data),M.putImageData(d,0,0),e=Date.now(),f("#post-three-kernel-time").text(e-t+" ms"),K.datasets[0].data[S[n]]=e-t,q.update()}).then(function(){B=!0,i();var a={chunk:!0,iterations:512,duration:10},o=[function(t,e,a,n,o,r){var i=t-(s+1),h=e-(s+1);i<0&&(i=0),h<0&&(h=0);var l=t+s,d=e+s;l>=this.rows&&(l=this.rows-1),d>=this.columns&&(d=this.columns-1);var c=(l-i)*(d-h);r.set(t,e,(this.get(l,d)-this.get(l,h)-this.get(i,d)+this.get(i,h))/c)},void 0,a];o[1]=o,t=Date.now(),p.applyAsync("applyAsync",o,m).then(function(a){B=!1,a.writeRawData(c.data),A.putImageData(c,0,0),e=Date.now(),f("#post-three-integral-time").text(e-t+" ms"),K.datasets[1].data[S[n]]=e-t,q.update()})})}function h(){var t=b.width,e=b.height;C.drawImage(V,0,0,t,e),n(M,y),n(A,D),l=C.getImageData(0,0,t,e),u=I.fromRawData(t,e,l.data),p=u.integral(),g=new I(t,e),m=new I(t,e),d=M.getImageData(0,0,t,e),c=A.getImageData(0,0,t,e)}var l,d,c,u,g,p,m,f=a(1),v=a(2),w=a(3),I=w.Image,x=w.Kernel,b=document.getElementById("post-three-canvas-original"),y=document.getElementById("post-three-canvas-kernel"),D=document.getElementById("post-three-canvas-integral"),k=document.getElementById("post-three-bar-chart"),F=f("#post-three-start-button"),C=b.getContext("2d"),M=y.getContext("2d"),A=D.getContext("2d"),P=k.getContext("2d"),E=!1,B=!1,R=0,z=0,K={labels:[],datasets:[{backgroundColor:"rgba(255, 0, 0, 0.5)",data:[],label:"Kernel Convolution Average Filter"},{backgroundColor:"rgba(0, 255, 0, 0.5)",data:[],label:"Integral Image Average Filter"}]},L=0,S={};f("#post-three-size-select > option").each(function(){K.labels.push(this.text),K.datasets[0].data.push(0),K.datasets[1].data.push(0),S[this.value]=L,L++});var q=new v(P,{type:"bar",data:K}),V=new Image;V.addEventListener("load",function(){h()},!1),V.src="images/Lenna.png",F.on("click",s)},function(t,e){t.exports=$},function(t,e){t.exports=Chart},function(t,e){t.exports=Vision}]);
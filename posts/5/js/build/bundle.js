!function(t){function e(n){if(a[n])return a[n].exports;var i=a[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){"use strict";function n(){return D&&(M.putImageData(c,0,0),M.beginPath(),M.arc(Math.floor(x.width/2),Math.floor(x.height/2),Math.min(x.width/5,x.height/5),y,y+Math.PI/3),M.stroke(),y+=Math.PI/16,y>2*Math.PI&&(y-=2*Math.PI),window.requestAnimationFrame(n)),y}function i(){var t=x.width,e=x.height;M.drawImage(h,0,0,t,e),s=M.getImageData(0,0,t,e),l=v.fromRawData(t,e,s.data),D||(D=!0,M.fillStyle="rgba(0, 0, 0, 0.5)",M.fillRect(0,0,t,e),M.lineWidth=10,M.strokeStyle="#FFFFFF",c=M.getImageData(0,0,t,e),window.requestAnimationFrame(n));var a=l.channels[0],i=l.channels[1],r=l.channels[2],m=new f(a.rows,a.columns);m.apply(function(t,e){this.set(t,e,Math.round((a.get(t,e)+i.get(t,e)+r.get(t,e))/3))});var p=m.integral(),F={chunk:!0,iterations:512,duration:10};g.hessianDeterminantAsync(p,0,0,F).then(function(t){d=t;var e=d.histogram(256);u=w(e,d.length);var a=d.min(),n=d.max();I.prop("min",""+a),I.prop("max",""+n),I.prop("value",""+u),D=!1,o()})}function o(){l&&(l.writeRawData(s.data),d.apply(function(t,e){var a=Math.abs(this.get(t,e)),n=4*(d.columns*t+e);a>u&&(s.data[n]=0,s.data[n+1]=0,s.data[n+2]=0,s.data[n+3]=1)}),M.putImageData(s,0,0))}function r(){var t=x.width,e=x.height;M.drawImage(h,0,0,t,e),F.click(i),I.on("mousemove change",function(){u=$(this).val(),o()})}var s,c,l,d,u,h,m=a(1),p=a(2),f=p.Matrix2d,g=(p.Kernel,p.SURF),v=p.Image,w=p.otsu,x=document.getElementById("post-five-canvas"),F=$("#post-five-startbutton"),I=$("#post-five-slider"),M=x.getContext("2d"),D=!1,y=0;h=new Image,h.src="images/simple-shapes.png",h.addEventListener("load",r,!1);new m("form#post-five-dropzone",{accept:function(t,e){var a=new FileReader;a.onload=function(){h.src=a.result,e()},a.readAsDataURL(t)},acceptedFiles:"image/*",autoProcessQueue:!1,maxFiles:1,maxfilesexceeded:function(t){this.removeAllFiles(),this.addFile(t)},paramName:"file"})},function(t,e){t.exports=Dropzone},function(t,e){t.exports=Vision}]);